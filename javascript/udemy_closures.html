<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JavaScript</title>
</head>
<body>
	<script type="text/javascript">
		// const arr = ["Vova", "Ben", "Denis", "Pedro"];
		// let newArr = [];
		// for (let i = 0; i < arr.length; i++) {
		// 	 newArr.push(arr[i].length);
		// }
		// console.log(newArr);
		// // function myMap(){

		// // }

		// let obj = {name:"Ben",
		// 			age: 15
		// };
		// let a = obj;
		// a.love = "vodka";
		// console.log(a);
		// console.log(obj);
// 		function copy(mainObj) {
//   let objCopy = {}; // objCopy будет хранить копию mainObj
//   let key;

//   for (key in mainObj) {
//     objCopy[key] = mainObj[key]; // копирует каждое свойство objCopy
//   }
//   return objCopy;
// }

// const mainObj = {
//   a: 2,
//   b: 5,
//   c: {
//     x: 7,
//     y: 4,
//   },
// }

// console.log(copy(mainObj));


// Создать две функции и дать им осмысленные названия:
// - первая функция принимает массив и колбэк (одна для всех вызовов)
// - вторая функция (колбэк) обрабатывает каждый элемент массива (для каждого вызова свой callback)

// Первая функция возвращает строку “New value: ” и результат обработки:

//1) firstFunc([‘my’, ‘name’, ‘is’, ‘Trinity’], handler1) //  “New value: MyNameIsTrinity”
// 2) firstFunc([10, 20, 30], handler2)    // “New value: 100, 200, 300,”
// 3) firstFunc([{age: 45, name: ‘Jhon’}, {age: 20, name: ‘Aaron’}], handler3) // 
// 4) “New value: Jhon is 45, Aaron is 20,”
// 5) firstFunc([‘abc’, ‘123’], handler4) → “New value: cba, 321,” // строки инвертируются


// Подсказка: secondFunc должна быть представлена функцией, которая принимает
// один аргумент (каждый элемент массива) и возвращает результат его обработки

// function firstFunc(arr, fn) {
// 	let result = fn(arr); 	
// 	let value = `New value: ${result}`; 
// 	return value;
// }
// function handler1(mass){
// 	for(i = 0; i < mass.length; i++){
// 		mass[i] = mass[i].charAt(0).toUpperCase() + mass[i].slice(1);
// 	}
// 	return mass.join("");
// }
// function handler2(mass) {
// 	for(i = 0; i < mass.length; i++){
// 		mass[i] = mass[i] * 10;
// 	}
// 	return mass;
// }

// function handler3(el) {
// 	for(i = 0; i < el.length; i++){
// 		el[i] = el[i].name + " is " + el[i].age  
// 	}
// 	return el;
// }
// function handler4(el) {
// 	for(i = 0; i < el.length; i++){
// 		el[i] = el[i].split("").reverse().join();
// 	}
// 	return  el.reverse();

// }
// console.log(firstFunc(["my", "name", "is", "Trinity"], handler1));
// console.log(firstFunc([10, 20, 30], handler2));
// console.log(firstFunc([{age: 45, name: 'Jhon'}, {age: 20, name: 'Aaron'}], handler3));
// console.log(firstFunc(['abc', '123'], handler4)); //“New value: cba, 321,” // строки инвертируются

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// const someArr = ["Ron", "Tom", "Din", "Jhon"];

// function mapArr(arr, fn){
// 	const newArr = []; 
// 	for (let i = 0; i < arr.length; i++) {
// 		newArr.push(fn(arr[i]));
// 	}
// 	return newArr;
// }

// function doUpperCase(element){
// 	return element.toUpperCase();
// }

// function getElementLength(element){
// 	return element.length;
// }
// console.log(mapArr(someArr,getElementLength));
// console.log(mapArr(someArr, doUpperCase));


// let team = ["Real", "Dinamo", "Inter", "Arsenal"];

// function doIt(game){
// 	if(game == "football"){
// 	return function choice(favouriteTeam){
// 		let myTeam = [];
// 		let indexOfMyFavouriteTeam = favouriteTeam.indexOf("Arsenal");
// 			if(indexOfMyFavouriteTeam && indexOfMyFavouriteTeam >= 0) {	
// 				myTeam.push(favouriteTeam[indexOfMyFavouriteTeam]);
// 		}
// 		console.log(myTeam);
// 		return myTeam;
// 	}
// }
// }
// let result = doIt("football");
// result(team);

// array = [{ name: "John", age: 15}, { name: "Bob", age: 10}, { name: "Dillan", age: 25}];
 
// console.log(array.sort((a, b) => a.age - b.age)); // sorted array by age asc

// Создать объект, который описывает ширину и высоту
// прямоугольника, а также может посчитать площадь фигуры:

// function getSquare(){
// 	let res = this.width * this.height;
// 	console.log("square = ", res);
// 	return res;
// }

// const rectangle = { width: 12,
// 				    height: 10,
// 				    getSquare,
// 				    showWidthAndHeight: function(){
// 				    	console.log("width = ", this.width);
// 				    	console.log("height = ", this.height);
// 				    }
// };

// rectangle.showWidthAndHeight();
// rectangle.getSquare();

// Создать объект, у которого будет цена товара и его скидка, а также

// два метода: для получения цены и для расчета цены с учетом скидки:

// function getPrice(){
// 	console.log(this.price);
// };
// function getPriceWithDiscount(){
// 	let priceWithDiscount = this.price - (this.price / 100 * parseInt(this.discount));
// 	console.log(priceWithDiscount);

// };

// const price = { price: 10,
// 			    discount: '15%',
// 			    getPrice,
// 			    getPriceWithDiscount
// };

// price.getPrice(); // 10

// price.getPriceWithDiscount(); // 8.5

//Создать объект, у которого будет поле высота и метод “увеличить высоту на один”. Метод должен возвращать новую высоту:


// function getNewHeight(){
// 	return console.log(this.height + 1);
// }

// let object = {height: 15, 
// 			  getNewHeight,

// };

// object.getNewHeight();
// console.log(object.height);

// Создать объект “вычислитель”, у которого есть числовое свойство “значение” и методы “удвоить”, “прибавить один”, “отнять один”.
// Методы можно вызывать через точку, образуя цепочку методов:

// const numerator = {

// 					value: 1,
// 					double: function () {
// 						this.value = this.value * 2;
// 						console.log("double = ", this.value);
// 						return this;
// 					},
// 					plusOne: function () {
// 						this.value = this.value + 1;
// 						console.log("plusOne = ", this.value);           
// 						return this;
// 					},
// 					minusOne: function () {
// 						this.value = this.value - 1;
// 						console.log("minusOne =", this.value);
// 						return this;
// 					},

// };

// numerator.double().plusOne().plusOne().minusOne();
// console.log(numerator.value);

// Создать объект с розничной ценой и количеством продуктов.
// Этот объект должен содержать метод для получения общей стоимости всех товаров (цена * количество продуктов).

// function getCoast(){
// 	let res;
// 	let arr = [];
// 	for(let key in this.price){
// 		res = this.price[key] * this.amount[key];
// 		arr.push(res);
// 	}
// 	console.log(arr);
// 	let sum = 0;
// 	for(i = 0; i < arr.length; i++){
// 		sum = sum + arr[i];
// 	}
// 	console.log(sum);
// 	return sum;
// };

// const products = {
// 	price: {
// 		apple: 100,
// 		potatoes: 60,
// 		pineapple: 130,
// 		meat: 300 
// 	},
// 	amount: {
// 		apple: 4,
// 		potatoes: 5,
// 		pineapple: 2,
// 		meat: 2
// 	},
// 	getCoast,
// };
//  products.getCoast(); // 1560

//  Создать объект из предыдущей задачи. Создать второй объект, который описывает количество деталей и цену за одну деталь. Для второго объекта нужно узнать общую стоимость всех деталей, но нельзя создавать новые функции и методы.

// Для этого “позаимствуйте” метод из предыдущего объекта.

// function getCoast(){
// 	let res;
// 	let arr = [];
// 	for(let key in this.price){
// 		res = this.price[key] * this.amount[key];
// 		arr.push(res);
// 	}
// 	let sum = 0;
// 	for(i = 0; i < arr.length; i++){
// 		sum = sum + arr[i];
// 	}
// 	console.log(`общая сумма товаров = ${sum} рублей`);
// 	return sum;
// };

// const products = {
// 	price: {
// 		apple: 100,
// 		potatoes: 60,
// 		pineapple: 130,
// 		meat: 300 
// 	},
// 	amount: {
// 		apple: 4,
// 		potatoes: 5,
// 		pineapple: 2,
// 		meat: 2
// 	},
// 	getCoast,
// };
//  products.getCoast(); 

//  const productsTwo = {
// 	price: {
// 		tomatos: 80,
// 		cucumbers: 80,
// 		cabbage: 50,
// 		meat: 300 
// 	},
// 	amount: {
// 		tomatos: 4,
// 		cucumbers: 5,
// 		cabbage: 2,
// 		meat: 2
// 	},
// 	getCoast,
// };
//  productsTwo.getCoast(); 


 // Даны объект и функция:
 // Не изменяя функцию или объект, получить результат функции getSquare для объекта sizes
// let sizes = {width: 4, height: 10};
// var width = 5;
// var height = 10;
// getSquare = function (){
// 	return this.width * this.height
// };
// console.log("width * height =  ", getSquare.call(sizes));//50
///////////////////////////////////////

// console.log(getSquare());
// console.log(getSquare.apply(sizes));

// let a = getSquare.bind(sizes); 
// sizes.width = 20;
// console.log(a());
//Измените функцию getElementHeight таким образом, чтобы можно было вызвать getElementHeight() и получить 25.
// let element = {
// 	height: 25,
// 	getHeight: function () {
// 		return this.height;
// 	}
// };
// let getElementHeight = element.getHeight.bind(element );
// console.log("height =", getElementHeight()); // 25

/////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////  СТРЕЛОЧНЫЕ 	ФУНКЦИИ  /////////////////////////////////////////////
 // const arrowFunc = (x = 1, y = 100) => x * y;
 // let res = arrowFunc();
 // console.log(res);

 // const arrowFunc2WithOneArgum = (x = 1) => x * 2 / 4;
 // let res2 = arrowFunc2WithOneArgum();
 // console.log(res2);

 // const withBodyFunc = (a, b) => {
 // 	a = a * 2;
 // 	b = b * 2;
 // 	return a + b;
 // }
 // let res3 = withBodyFunc(2, 2);
 // console.log(res3); //8

 // const returnObj = ( str = "") => {
 // 	return {
 // 		value: str,
 // 		length : str.length
 // 	};
 // };
 // console.log(returnObj("str")); //возвращаем объект

 // const returnObj = ( str = "") => ({
 // 		value: str,
 // 		length : str.length
 // });
 // console.log(returnObj("JavaScript")); //возвращаем объект

 // const obj = {
 // 	name: "Vova",
 // 	age: 5,
 // 	getName(){
 // 		console.log(this);
 // 	},
 // 	getAge: () => console.log(this),
 // };
 // obj.getName();
 // obj.getAge();

//  Вопросы к этому заданию
// Переделать функцию с использованием функции-стрелки (в методе reduce тоже использовать arrow function):
// что такое метод reduce можно прочитать https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce

// function sum() {
// 	const params = Array.prototype.slice.call(arguments);
// 		if (!params.length) return 0;
// 	return params.reduce(function (prev, next) { return prev + next; });
// }
// console.log(sum(1, 2, 3, 4)); // 10
// sum(); // 0

// let sum = () => {
// 	const params = Array.prototype.slice.call(sum);
// 		if (!params.length) return 0;
// 		else{
// 			return params.reduce((prev, next) => prev + next);
// 		}
// };

// const sum = (...params) => {
//   if (!params.length) return 0;
//   return params.reduce((prev, next) => prev + next);
// }
// let a = sum(1, 2, 3, 4)
// console.log(a);

//Переделать функцию с использованием функции-стрелки

// function convertToObject(num) {
//   const obj = {
//       value: num,
//       isOdd: Boolean(num % 2)
//   }
//   console.log(obj);
//   return obj;
// };
// convertToObject(3);

// let convertToObject = (num) => {
// 	const obj = {
// 		 value: num,
//       isOdd: Boolean(num % 2)
// 	}
// 	console.log(obj);
// 	return obj;
// }
// let result = convertToObject(6);

//////////////////////////////////////// CALLBACK /////////////////////////////////////////////////////////////////

// Написать аналог метода every. Создайте функцию every, она должна принимать первым аргументом массив чисел (обязательно проверьте что передан массив) вторым аргументом callback (обязательно проверьте что передана функция).Если передан один из аргументов не удовлетворяет условию то функция должна вернуть new Error("с произвольным сообщением.") 
// функция должна возвращать true или false в зависимости от результата вызова callback (проверить число больше 5). Callback должен принимать один элемент массива, его индекс в массиве и весь массив.

// let arr = [7, 8, 10];

// function every(arr, fn) {
// 	let flag = true;
// 	if(Array.isArray(arr) && typeof fn == "function"){
// 		for(i = 0; i < arr.length; i++){
// 			if (!fn(arr[i], i, arr)) {
// 				flag = false;
// 			}
// 		}
// 		return flag;
// 	}else
// 	{
// 		return new Error("Error");
// 	}
// };
// console.log(every(arr, callback));

// function callback(element, index, arr){
// 	if(element > 5){
// 		return true;
// 	} else {
// 		return false;
// 	}
// };
	
	// let arr = Array.from("JavaScript it is brainstorm");
	// console.log(arr); // метод from возвращает новый массив из строки.

////////////////////// дз по методам массива ......................

// задача № 1
// На основе массива [1,2,3,5,8,9,10] сформировать новый массив,
// каждый элемент которого будет хранить информацию о числе и его четности:
//[{digit: 1, odd: true}, {digit: 2, odd: false}, {digit: 3, odd: true}...]
// let initialArr = [1, 2, 3, 5, 8, 9, 10];
// let newObj;
// let finalArr = initialArr.map(function(element){
// 	newObj = {
// 					digit: element,
// 					odd: true,
// 				 };
// 	if(element % 2 != 0) {
// 		newObj.odd = true;
// 	}else{
// 		newObj.odd = false;
// 		}
// 		return newObj;
// });
// console.log(finalArr);

//задача № 2
//Проверить, содержит ли массив [12, 4, 50, 1, 0, 18, 40] элементы, равные нулю. Если да - вернуть true.
// const arrForCheck = [12, 4, 50, 1, 0, 18, 40];
// let numForCheck = (element) => element == 0;
// console.log(arrForCheck.some(numForCheck)); // true

// /////задача № 3 
// // //Проверить, все элементы массива имеют длину более 3х символов ['yes', 'hello', 'no', 'easycode', 'what']. Если да - вернуть true
// let strArr = ['yes', 'hello', 'no', 'easycode', 'what'];
// let checkElement = (element) => element.length > 3;
// console.log(strArr.every(checkElement)); //false

//задача № 4 
// Дан массив объектов, где каждый объект содержит информацию о букве и месте её положения в строке {буква: “a”, позиция_в_предложении: 1}:
// Напишите функцию, которая из элементов массива соберет и вернёт строку, основываясь на index каждой буквы. Например:
// [{char:"H",index:0}, {char:"i",index: 1}, {char:"!",index:2}] → “Hi!”

// let massOfObj = [
// 				{char:"a",index:12}, {char:"w",index:8}, {char:"Y",index:10}, {char:"p",index:3}, {char:"p",index:2},
// 				{char:"N",index:6}, {char:" ",index:5}, {char:"y",index:4}, {char:"r",index:13}, {char:"H",index:0},
// 				{char:"e",index:11}, {char:"a",index:1}, {char:" ",index:9}, {char:"!",index:14}, {char:"e",index:7}
// ];
// let res = massOfObj.sort((a, b) => a.index - b.index);
// console.log(res);



//задача 5
// Отсортируйте массив массивов так, чтобы вначале располагались наименьшие массивы (размер массива определяется его длиной): [ [14, 45], [1], ['a', 'c', 'd'] ] → [ [1], [14, 45], ['a', 'c', 'd'] ]

// let arrForSort = [ [14, 45], [1], ['a', 'c', 'd'] ]; 
// let resultOfSortArrLength = arrForSort.sort((a, b) => a.length - b.length);
// console.log(resultOfSortArrLength);

// задача 6 
//Есть массив объектов:
//Отсортировать их по возрастающему количеству ядер (cores).
// let arrOfProducts = [
// 					{cpu: 'intel', info: {cores:2, сache: 3}},
// 					{cpu: 'intel', info: {cores:4, сache: 4}},
// 					{cpu: 'amd', info: {cores:1, сache: 1}},
// 					{cpu: 'intel', info: {cores:3, сache: 2}},
// 					{cpu: 'amd', info: {cores:4, сache: 2}}
// ];
// let sortArr = arrOfProducts.sort((a, b) => a.info.cores - b.info.cores);

// console.log(sortArr);


// задача 7 
 //Создать функцию, которая будет принимать массив продуктов и две цены. Функция должна вернуть все продукты, цена которых находится в указанном диапазоне, и сортировать от дешевых к дорогим:

// let products = [
// 				{title: 'prod1', price: 5.2}, {title: 'prod2', price: 0.18},
// 				{title: 'prod3', price: 15}, {title: 'prod4', price: 25},
// 				{title: 'prod5', price: 18.9}, {title: 'prod6', price: 8},
// 				{title: 'prod7', price: 19}, {title: 'prod8', price: 63}
// ];


// function filterCollection(arr, firstPrice, secondPrice){
// 	let newArr;
// 	newArr = arr.filter(function(element){
// 		if(element.price >= firstPrice && element.price < secondPrice){
// 			console.log(element.title);
// 			return element;
// 		}
// 	});
// 	let res = newArr.sort((prev, next) => prev.price - next.price);
// 	return res;
// };
// console.log(filterCollection(products, 15, 30)); // [{...price: 15}, {...price: 18.9}, {...price: 19}, {...price: 25}]


// let initialArr = [1, 2, 3, 5, 8, 9, 10];
// let finalArr = initialArr.map((element) =>{
// 	return  {
// 				digit: element,
// 				odd: !(element % 2)
// 			};
// });
// console.log(finalArr);


///////////////////////////////////////////closures/////////////////////////////////////////////////////////////////

// function checkYourData(){
// 	let firstName = "Vova";
// 	let lastName = "Putin";
// 	return {
// 		getName(value){
// 			return firstName == value;
// 		},
// 		getSurname(value){
// 			return lastName == value;
// 		}
// 	};
// };
// let res = checkYourData();
// console.log("Авторизация имени", res.getName("Ben"));

// function makeCounter() {
//     let counter = 0;
//     return function () {
//         return ++counter;
//     }
// }
// let counterInstance1 = makeCounter();
// console.log(counterInstance1());
// console.log(counterInstance1());
// console.log(counterInstance1());
 

 //////////////
// const price = (function () {
//     let discount = 10, price = 100;
//     function setDiscount(value) { 
//     	discount = parseInt(value);
//     }
//     function getPriceWithDiscount() {
//        const discountFromPrice = price*discount /100;
//        return price - discountFromPrice;
//     }

//     function setPrice(value) {
//     	price = value;
//     }
//     function getPrice() {
//     	return price;
//     }

//     return {
//             getPriceWithDiscount: getPriceWithDiscount,
//             setDiscount: setDiscount,
//             setPrice: setPrice,
//             getPrice: getPrice
//     };
// }());

// console.log(price.getPriceWithDiscount());

  ///////////////////Задача № 1////////////////////////////
// Создайте функцию которая бы умела делать:
// minus(10)(6); // 4
// minus(5)(6); // -1
// minus(10)(); // 10
// minus()(6); // -6
// minus()(); // 0
// Подсказка, функция minus должна возвращать другую функцию.

// function minus(value = "0"){
// 	return function(num = "0"){
// 		return value - num;
// 	}
// };
// console.log(minus(10)(6));//4
// console.log(minus(5)(6)); //-1
// console.log(minus(10)()); // 10
// console.log(minus()(6)); // -6
// console.log(minus()()); // 0



// //2.Реализовать функцию, которая умножает и умеет запоминать возвращаемый результат между вызовами:
// function multiplyMaker ...
// const multiply = multiplyMaker(2);
// multiply(2); // 4 (2 * 2)
// multiply(1); // 4 (4 * 1)
// multiply(3); // 12 (4 * 3)
// multiply(10); // 120 (12 * 10)
 
// function multiplyMaker(value ="2"){
// 	let x = value;
// 	return function(num){
// 		x =  x * num;
// 		return x;
// 	}
// };
// const multiply = multiplyMaker(2);
// console.log(multiply(2)); // 4 (2 * 2)
// console.log(multiply(1)); // 4 (4 * 1)
// console.log(multiply(3)); // 12 (4 * 3)
// console.log(multiply(10)); // 120 (12 * 10)



// 3. Реализовать модуль, который работает со строкой и имеет методы:
// a. установить строку
// i. если передано пустое значение, то установить пустую строку
// ii. если передано число, число привести к строке
// b. получить строку
// c. получить длину строки
// d. получить строку-перевертыш

// Пример:
// модуль.установитьСтроку(‘abcde’);
// модуль.получитьСтроку(); // ‘abcde’
// модуль.получитьДлину(); // 5

 // const moduleForStr = function(str){
 // 	let value;
 // 	function setStr(str){
 // 		if(typeof str === "number" ){
 // 			value = str.toString();
 // 		} else if (str === ""){
 // 			value = "";
 // 		} else if(typeof str === "string"){
 // 			value = str;
 // 		} 
 // 		console.log(`значение: ${value}`)
 // 	};
 // 	function getStr(str){
 // 		return value;
 // 	};
 // 	function getStrLength(str){
 // 		return value.length;
 // 	}
 // 	function getReverseStr(str){
 // 		value = value.split("").reverse().join("");
 // 		return value;
 // 	};
 // 	return { setStr: setStr,
 // 			 getStr: getStr,
 // 			 getStrLength: getStrLength,
 // 			 getReverseStr: getReverseStr

 // 	};

 // }();

 // moduleForStr.setStr(100);
 // console.log(moduleForStr.getStr());
 // console.log(moduleForStr.getReverseStr());
 // console.log(moduleForStr.getStrLength());


// 4. Создайте модуль “калькулятор”, который умеет складывать, умножать, вычитать, делить и возводить в степень. Конечное значение округлить до двух знаков после точки (значение должно храниться в обычной переменной, не в this).

// модуль.установитьЗначение(10); // значение = 10
// модуль.прибавить(5); // значение += 5
// модуль.умножить(2); // значение *= 2
// модуль.узнатьЗначение(); // вывести в консоль 30 (здесь надо округлить)

// Также можно вызывать методы цепочкой:
// модуль.установитьЗначение(10).вСтепень(2).узнатьЗначение(); // 100

const calculator = function(){
	let x;
	function setValue(value){
		x = value;
		console.log(`установленное значение = ${x} `)
	}
	function add(value){
		value = x + value;
		return value;
	}
	function 
	return { setValue: setValue,
			 add: add, 


	};
}();
calculator.setValue(10);// модуль.установитьЗначение(10); // значение = 10
console.log(calculator.add(5));// модуль.прибавить(5); // значение += 5
// модуль.умножить(2); // значение *= 2
// модуль.узнатьЗначение(); // вывести в консоль 30 (здесь надо округлить)


/////////////////// 7 kyu Growth of a Population//////////////////////
// function nbYear(p0, percent, aug, p){
// let n;
// let result = 0;
// percent = percent / 100;
// 	for(n = 0; p0 < p; n++){ 
// 		p0 = p0 + (p0 * percent) + aug;
// 	}
// return n;
// };

// console.log(nbYear(1500, 5, 100, 5000));

///////  7 kyu Number of People in the Bus
// var number = function(busStops){
//   let result = 0;
//   for(let i = 0; i < busStops.length; i++){
//   result = result + busStops[i][0] - busStops[i][1];
// }
// return result;
// };

// console.log(number([[10,0],[3,5],[5,8]]));

    /////////////////// 6 kyuBuild Tower///////////
// function towerBuilder(nFloors) {
//   let arr = [];
//   let result = "";
//   for(i = 0; i < nFloors; i++){
//   result = result + "*";
//   arr.push(result);
//   }
//   return arr;
// };
// console.log(towerBuilder(1));
// console.log(towerBuilder(2));
















		
	</script>
</body>
</html>